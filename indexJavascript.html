<!DOCTYPE html>
<html>

<head>
    <meta charset="ISO-8859-1">
    <title>DOM</title>
</head>

<body>

    <div>
        <div>
            <h3>Sum: <span id="sum"></span></h3>
            <h5 id="currentTime"></h5>
        </div>
        <div>
            <h1>United
                <span data-customAttr="USA">
                    States

                </span>
                of America
                (<span>USA</span>)
            </h1>
            <div><a>Click Here</a>
                <a>Click Here</a>
                <a>Click Here</a>
                <a>Click Here</a>
                <a>Click Here</a>
            </div>
            <a>Click Here</a>
            <a>Click
                <span>Here1</span>
            </a>
            <a>Click Here</a>
            <div>
                <select name="colors">
                    <option value="green">Green</option>
                    <option value="blue">Blue</option>
                    <option value="red" selected="selected">Red</option>
                    <option value="purple">Purple</option>
                    <option value="yellow" selected="selected">Yellow</option>
                </select>
            </div>
        </div>
        <p id="helloWorld">Hello, World!</p>
        <div>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Department</th>
                </tr>
                <tr>
                    <td class="empName">John</td>
                    <td>Sales</td>
                </tr>
                <tr>
                    <td class="empName">Amy</td>
                    <td>Finance</td>
                </tr>
                <tr>
                    <td class="empName">Austin</td>
                    <td>Sales</td>
                </tr>
                <tr>
                    <td class="empName">Katie</td>
                    <td>Marketing</td>
                </tr>
                <tr>
                    <td class="empName" data-customAttr="court">Courtney</td>
                    <td>Sales</td>
                </tr>
                <tr>
                    <td class="empName">Scout</td>
                    <td>Sales</td>
                </tr>
            </table>
        </div>
        <form id="firstForm">
            <a>Click <span>Here2</span></a>
            <input type="text" data-customAttr="7" /><br />
            <input type="text" data-customAttr="24" /><br />
            <input type="radio" name="favoriteAnimal" value="dog" />Dog<br />
            <input type="radio" name="favoriteColor" value="blue" />Blue<br />
            <input id="num1" class="nums" type="text" /><br />
            <input type="radio" name="favoriteAnimal" value="cat" />Cat<br />
            <input type="radio" name="favoriteColor" value="red" />Red<br />
            <input type="radio" name="favoriteAnimal" value="horse" />Horse<br />
            <input type="radio" name="favoriteAnimal" value="dolphin" />Dolphin<br />
            <a>Click <span>Here</span></a><br />
            <input type="radio" name="favoriteAnimal" value="eagle" />Eagle<br />
            <input type="radio" name="favoriteColor" value="green" />Green<br />
            <input type="radio" name="favoriteColor" value="orange" />Orange<br />
            <select name="hobbies">
                <option value="photography">Photography</option>
                <option value="football" selected="selected">Football</option>
                <option value="kayaking" selected="selected">Kayaking</option>
                <option value="hiking">Hiking</option>
                <option value="programming" selected="selected">Programming</option>
            </select>
            <input id="num2" class="nums" type="text" />
            <select name="skills">
                <option value="java">Java</option>
                <option value="net">.NET</option>
                <option value="dom" selected="selected">DOM</option>
                <option value="html">HTML</option>
                <option value="css">CSS</option>
                <option value="javascript" selected="selected">Javascript</option>
            </select>
        </form>
    </div>
    <a>Click Here</a>
    <a>Click <span data-customAttr="500">Here3</span></a>
    <a>Click Here</a>

    <script type="text/javascript">
        //1
        function getUSA() {
            let patriot = this.document.querySelector('[data-customAttr="USA"]');
            let parent = patriot.parentNode;
            let children = parent.childNodes;
            for (let i = 0; i < children.length; i++) {
                if (children[i].textContent === "USA") {
                    console.log(children[i].textContent);
                }
            }
        }

        getUSA();

        //2 Print the names of all the people in the sales department.
        function getPeopleInSales() {
      let tableArray = document.querySelectorAll("tr td");
      for(let i = 0; i < tableArray.length - 1; i+=2) {
        if (tableArray[i+1].childNodes[0].textContent === "Sales") {
          console.log(tableArray[i].childNodes[0].textContent);
        }
      }
    }  
    getPeopleInSales()

    //3 Find all anchor elements with a <span> child.
     function getAnchorChildren(){
         let spanArray = document.querySelectorAll("a span")
          for(let i = 0; i < spanArray.length; i++){
              console.log(spanArray[i].childNodes[0].textContent);
          }
     }

     getAnchorChildren()

     //4 Find all anchor elements with a <span> child.
    function getHobbies(){
        let hobby = document.querySelector('[name="hobbies"]')
       console.log(hobby.selectedOptions[0].textContent); 
    }

    getAnchorChildren()

    //5 
   /* Find all elements with "data-customAttr" attribute
Print the value of the attribute.
Print the element that has the attribute. */
    function getCustomAttribute(){
        let customArray = document.querySelectorAll('[data-customAttr]');
        for(let i = 0; i < customArray.length; i++){
            let attribute = customArray[i].getAttribute('data-customAttr');
            console.log("element " + customArray[i]);
            console.log("attribute: " + attribute);
        }
    }


    getCustomAttribute()


     /* 6. Sum Event
    NOTE: Write unobtrusive Javascript
    Regarding these elements:
      <input id="num1" class="nums" type="text"/>
      <input id="num2" class="nums" type="text"/>
      <h3>Sum: <span id="sum"></span></h3>

    Define onchange event handler.
    Add <input> element values.
    Put the sum in the <span> element.
    If values cannot be added, put "Cannot add" in the <span> element */ 
        let num1 = document.getElementById('num1')
        let num2 = document.getElementById('num2')
        num1.addEventListener("change", sumEvent)
        num2.addEventListener("change", sumEvent)

    function sumEvent(){
        let sum = document.getElementById('sum')
        let value1 = Number.parseInt(num1.value)
        let value2 = Number.parseInt(num2.value)
        if(value1 == NaN){
            sum.textContent = "Cannot add";
        } else if(value2 == NaN){
           sum.textContent = "Cannot add";
        } else {
            sum.textContent = value2 + value1;
        }
    }

    //7
    /*
Skills Event
NOTE: Write unobtrusive Javascript
When user selects a skill, create an alert with a message similar to:
	"Are you sure CSS is one of your skills?"
NOTE: no alert should appear when user deselects a skill    */

    let skillz = document.querySelector('[name="skills"]')
    skillz.addEventListener("change", smackTalk)

    function smackTalk(){
        alert("are you sure you know " + skillz.selectedOptions[0].textContent)
    }

    //8
    /*
Favorite Color Event
NOTE: Write unobtrusive Javascript
NOTE: This is regarding the favoriteColor radio buttons.
When a user selects a color, create an alert with a message similar to:
	"So you like green more than blue now?"
In this example, green is the new value and blue is the old value.
Make the background color (of all favoriteColor radio buttons) the newly selected favoriteColor
    */

    let colorSelector = document.querySelector('[name="colors"]')
    let oldColor = colorSelector.selectedOptions[0].textContent
    colorSelector.addEventListener("change", colorSmack)

    function colorSmack(){
        let newColor = colorSelector.selectedOptions[0].textContent
        alert("soooo, you like " + oldColor + " more than " + newColor + " now?")
        let colorButtons = document.querySelectorAll('[name="favoriteColor"]')
        colorButtons.getAttribute('value') = newColor
    }

    //9
    /*
    When user hovers over an employees name:
	Hide the name if shown.
	Show the name if hidden.
    */

    let nameArray = document.getElementsByName("empName")

    </script>

</body>

</html>